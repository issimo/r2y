// Scroll Helper
function saveScrollPosition(){scrollPositions.set(window.location.href,$(window).scrollTop())}function getScrollToPosition(){if(backToPosition){var o=backToPosition;return backToPosition=void 0,o}var r,t=window.location.hash;try{r=$(t)}catch(e){r=[]}return t.indexOf("maintainScroll=1")>-1?void 0:r.length?r.offset().top:0}function ironWhenReady(o){return function(){var r=this;r.next(),r.ready()&&o()}}function scrollTo(o){$("body,html").animate({scrollTop:o},RouterAutoscroll.animationDuration)}RouterAutoscroll={animationDuration:200};var backToPosition,scrollPositions=new ReactiveDict("okgrow-router-autoscroll");window.onpopstate=function(){backToPosition=scrollPositions.get(window.location.href)};var scheduleScroll=function(){Tracker.afterFlush(function(){var o=getScrollToPosition();scrollTo(o)})},flowScroll=function(o){-1==o.context.pathname.indexOf("#")?scrollTo(0):scheduleScroll()};Package["iron:router"]&&(Package["iron:router"].Router.onRun(ironWhenReady(scheduleScroll)),Package["iron:router"].Router.onStop(saveScrollPosition)),Package["kadira:flow-router"]&&(Package["kadira:flow-router"].FlowRouter.triggers.enter([flowScroll]),Package["kadira:flow-router"].FlowRouter.triggers.exit([saveScrollPosition])),Package["kadira:flow-router-ssr"]&&(Package["kadira:flow-router-ssr"].FlowRouter.triggers.enter([flowScroll]),Package["kadira:flow-router-ssr"].FlowRouter.triggers.exit([saveScrollPosition])),Package["meteorhacks:flow-router"]&&(Package["meteorhacks:flow-router"].FlowRouter.triggers.enter([flowScroll]),Package["meteorhacks:flow-router"].FlowRouter.triggers.exit([saveScrollPosition])),Package["meteorhacks:flow-router-ssr"]&&(Package["meteorhacks:flow-router-ssr"].FlowRouter.triggers.enter([flowScroll]),Package["meteorhacks:flow-router-ssr"].FlowRouter.triggers.exit([saveScrollPosition])),HotCodePush.start.then(function(){var o=$(window).scrollTop();scrollPositions.set("HotCodePushScrollPosition",o)}),HotCodePush.end.then(function(){backToPosition=scrollPositions.get("HotCodePushScrollPosition"),backToPosition&&scheduleScroll()}),RouterAutoscroll.scrollPositions=scrollPositions;